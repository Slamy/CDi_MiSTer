	section .text

    org $400000

vector:
	dc.l $300
    dc.l main

    dc.l 0,0
main:
	move.b #'A',$80002019

	; IC1 DC1 Plane A
	move.w #$C300,$4ffff2
	; IC2 DC2 Plane B
	; move.w #$C300,$4fffe2
	
	move.w #$0000,$4ffff0

	lea.l icalist,a0
	move.l #$400,a1
	move.l #350,d0
	bsr copy

	move.b #'B',$80002019

	lea.l picture,a0
	move.l #$76372,a1
	move.l #(19410/4),d0
	bsr copy

	move.b #'C',$80002019

	move #$2000,SR  
	move.l #videoirq,$f4
	move.b #$d8,$80001001 ; LIR

endless:
	bra endless

videoirq:
	move.b #'I',$80002019
	; First reset IRQ in videochip
	move.b $4fffe1,d0

	; Then reset pending IRQ for latched IRQ
	move.b #$d8,$80001001 ; LIR
	rte

copy:
	move.l (a0)+,(a1)+
	add.l #-1,d0
	bne copy
	rts

picture:
	incbin "picture2.bin"
endpicture:

icalist:
	;dc.l $4007ffb0
	dc.l $cd04c1b9
	dc.l $ce88000f
	dc.l $cf008000
	dc.l $cf01c000
	dc.l $cf02e000
	dc.l $cf03f000
	dc.l $cf04f800
	dc.l $cf05fc00
	dc.l $cf06fe00
	dc.l $cf07ff00
	dc.l $cf08f800
	dc.l $cf09d800
	dc.l $cf0a8c00
	dc.l $cf0b0c00
	dc.l $cf0c0600
	dc.l $cf0d0600
	dc.l $cf0e0300
	dc.l $cf0f0300
	dc.l $10000000
	;dc.l $40062d30
	dc.l $78000402
	dc.l $10000000
	dc.l $60000000
	dc.l $70000000
	dc.l $c00c1313
	dc.l $c1800101
	dc.l $c2000001
	dc.l $c4070707
	dc.l $c7000000
	dc.l $ca000000
	dc.l $d8000000
	dc.l $d9000000
	dc.l $db00003f
	dc.l $c3000000
	dc.l $80ffffff
	dc.l $81787896
	dc.l $829287b5
	dc.l $83646464
	dc.l $84697d73
	dc.l $8582af96
	dc.l $869287b5
	dc.l $879287b5
	dc.l $88787896
	dc.l $8982af96
	dc.l $8a879bc8
	dc.l $8b727979
	dc.l $8c65656b
	dc.l $8d818888
	dc.l $8ed2d2d2
	dc.l $8f10162c
	dc.l $90656b79
	dc.l $91565d6b
	dc.l $92959d9d
	dc.l $93ced6d6
	dc.l $946b6b6b
	dc.l $95161616
	dc.l $96404040
	dc.l $97bebebe
	dc.l $983a3a3a
	dc.l $99242424
	dc.l $9a333333
	dc.l $9b4f4f4f
	dc.l $9c73789b
	dc.l $9d2c2c48
	dc.l $9e3a4056
	dc.l $9f656b72
	dc.l $a040485d
	dc.l $a11d2c3a
	dc.l $a2727272
	dc.l $a3727979
	dc.l $a4242c40
	dc.l $a5949494
	dc.l $a6949494
	dc.l $a79287b5
	dc.l $a89287b5
	dc.l $a9606060
	dc.l $aa646e64
	dc.l $ab949494
	dc.l $ac82af96
	dc.l $ad101010
	dc.l $ae787896
	dc.l $af787896
	dc.l $b0787896
	dc.l $b1697d73
	dc.l $b2dcdcdc
	dc.l $b3dcdcdc
	dc.l $b4949494
	dc.l $b5949494
	dc.l $b6a4abab
	dc.l $b7949494
	dc.l $b88f9595
	dc.l $b9818888
	dc.l $bad2d2d2
	dc.l $bb484848
	dc.l $bcd6dddd
	dc.l $bd959d9d
	dc.l $beced6d6
	dc.l $bf6b6b6b
	dc.l $c3000001
	dc.l $80161616
	dc.l $81404040
	dc.l $82bebebe
	dc.l $833a3a3a
	dc.l $84242424
	dc.l $85333333
	dc.l $864f4f4f
	dc.l $87949494
	dc.l $882c2c48
	dc.l $893a4056
	dc.l $8a656b72
	dc.l $8b787896
	dc.l $8c1d2c3a
	dc.l $8d727272
	dc.l $8e606060
	dc.l $8f242c40
	dc.l $90787878
	dc.l $91484f5d
	dc.l $92606060
	dc.l $9310163a
	dc.l $9433334f
	dc.l $955d656b
	dc.l $96727279
	dc.l $97333348
	dc.l $985d5d5d
	dc.l $99888888
	dc.l $9a6b6b72
	dc.l $9b646464
	dc.l $9c8f8f95
	dc.l $9d4f5665
	dc.l $9e818188
	dc.l $9f101010
	dc.l $a0dcdcdc
	dc.l $a1656565
	dc.l $a2333a48
	dc.l $a388888f
	dc.l $a43a404f
	dc.l $a54f4f5d
	dc.l $a6101633
	dc.l $a7727981
	dc.l $a8565d65
	dc.l $a9565665
	dc.l $aa87c5b0
	dc.l $ab1d243a
	dc.l $ac101010
	dc.l $ad161d33
	dc.l $ae2c3348
	dc.l $af404856
	dc.l $b0565656
	dc.l $b12c2c2c
	dc.l $b2323232
	dc.l $b31d1d1d
	dc.l $b4818181
	dc.l $b588959d
	dc.l $b69287b5
	dc.l $b73c4678
	dc.l $b841557d
	dc.l $b9c7cece
	dc.l $baa4a4a4
	dc.l $bb919191
	dc.l $bcb7b7b7
	dc.l $bdababab
	dc.l $be9d9d9d
	dc.l $bf949494
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $d0000000
	dc.l $d1000000
	dc.l $d2000000
	dc.l $d3000000
	dc.l $d4000000
	dc.l $d5000000
	dc.l $d6000000
	dc.l $d7000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $10000000
	dc.l $20067850
	dc.l $50076372
	